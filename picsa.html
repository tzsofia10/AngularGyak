<!doctype html>
<html ng-app="picsaApp"> <!-- Az AngularJS alkalmazás kezdete, 'picsaApp' néven -->
  <head>
    <!-- AngularJS könyvtár betöltése -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

    <!-- Saját AngularJS kódot tartalmazó fájl -->
    <script src="picsa.js"></script>

    <!-- Saját CSS fájl -->
    <link rel="stylesheet" href="picsa.css">

    <!-- Bootstrap CSS betöltése (szép gombok, űrlapok stb. miatt) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="..." crossorigin="anonymous">

    <!-- Bootstrap JS betöltése, pl. modálokhoz, dropdownokhoz -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="..." crossorigin="anonymous"></script>
  </head>
  <body>

    <!-- AngularJS controller használata 'picsController' néven, amit 'picsa' név alatt is elérhetünk -->
    <div ng-controller="picsController as picsa">
      
      <!-- Lista megjelenítése az 'autok' tömb elemeiből -->
      <ul>
        <!-- Minden autóra fut a ciklus (ng-repeat), 'auto' változóval -->
        <!-- ng-init: ha az utolsó elemnél járunk, akkor meghívjuk az 'initmodal()' függvényt -->
        <li ng-repeat="auto in autok" ng-init="$last && initmodal()">
          {{auto.tipus}} {{auto.modell}} 
          
          <!-- Törlés gomb, meghívja a deletejarmu() függvényt az aktuális autó id-jával -->
          <button ng-click="deletejarmu(auto.id)">Torles</button>
          
          <!-- Hely az adott járműhöz tartozó további tartalomnak (pl. modál, részletek) -->
          <div id="jarmu-{{auto.id}}"></div>
        </li>
      </ul>

      <!-- Űrlap új jármű hozzáadásához -->
      <form> 
        <label for="">Rendszám: </label>
        <input type="text" ng-model="jarmu.rendszam"><br>

        <label for="">Típus: </label>
        <input type="text" ng-model="jarmu.tipus"><br>

        <label for="">Modell: </label>
        <input type="text" ng-model="jarmu.modell"><br>

        <label for="">Műszaki: </label>
        <input type="date" ng-model="jarmu.muszaki_ervenyesseg"><br>

        <!-- Hozzáadás gomb, meghívja az addjarmu() függvényt -->
        <button ng-click="addjarmu()">Hozzaadas</button>
      </form>
    </div>
   
  </body>
</html>
